#!/bin/bash

#
# Generates and outputs random password.
#
# Usage: password [password length]
#

DEFAULT_PASSWORD_LENGTH=9

generate_password() {
  length=${1:-$DEFAULT_PASSWORD_LENGTH}
  bytes=`echo $length | awk '{print int($1*1.16)+1}'`
  echo `openssl rand -base64 $bytes | tr -d "=+/" | cut -c1-$length`
}

password_generator() {
  generated="$(generate_password $1)"
  echo "$generated" | xargs echo -n
}

password_generator "$@"
